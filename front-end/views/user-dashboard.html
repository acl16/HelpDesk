<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>User Dashboard</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    body {
      background-color: #f8f9fa;
    }

    .sidebar {
      min-height: 100vh;
      background-color: #343a40;
      color: white;
      padding: 20px;
    }

    .sidebar a {
      color: white;
      text-decoration: none;
      display: block;
      padding: 10px 15px;
      margin-bottom: 10px;
      border-radius: 5px;
    }

    .sidebar a:hover {
      background-color: #495057;
    }

    .content {
      padding: 20px;
    }

    @media (max-width: 768px) {
      .sidebar {
        position: fixed;
        z-index: 1000;
        top: 0;
        bottom: 0;
        left: -250px;
        width: 250px;
        transition: left 0.3s;
      }

      .sidebar.open {
        left: 0;
      }

      .content {
        margin-left: 250px;
      }
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="row">

      <!-- Sidebar -->
      <nav class="col-md-3 col-12 col-lg-2 sidebar p-3">
        <h4 class="text-white mb-4">ðŸ‘¤ User menu</h4>
        <ul class="nav flex-column">
          <li class="nav-item mb-2">
            <a class="nav-link text-white" href="user-dashboard.html">
              <i class="bi bi-house-door"></i> Home
            </a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link text-white" href="profile.html">
              <i class="bi bi-person-circle"></i> Profile
            </a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link text-white" href="notifications.html">
              <i class="bi bi-bell"></i> Notifications
            </a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link text-white" href="submittedtickets.html">
              <i class="bi bi-card-list"></i> Submitted Tickets
            </a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link text-white" href="submitAticket.html">
              <i class="bi bi-pencil-square"></i> Submit Ticket
            </a>
          </li>
          <li class="nav-item mb-2">
            <a class="nav-link text-white" href="sla.html">
              <i class="bi bi-clock-history"></i> SLA Info
            </a>
          </li>
          <li class="nav-item mt-auto">
  <a href="#" class="nav-link text-danger" onclick="confirmLogout(event)">
    <i class="bi bi-box-arrow-right me-2"></i> Logout
  </a>
</li>

        </ul>
      </nav>

      <!-- Main Content -->
      <main class="col-md-9 col-12 content">
        <!-- Home -->
        <section id="home" class="mb-4">
          <h3>Welcome to Your Dashboard</h3>
          <p>Hello John Doe ðŸ‘‹, here's a quick overview of your support activity today.</p>

          <!-- Dashboard Stats -->
          <div class="row text-center">
            <div class="col-md-3">
              <div class="card text-bg-primary mb-3">
                <div class="card-body">
                  <h5 class="card-title">Tickets Submitted</h5>
                  <p class="card-text fs-4">12</p>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="card text-bg-warning mb-3">
                <div class="card-body">
                  <h5 class="card-title">Open Tickets</h5>
                  <p class="card-text fs-4">3</p>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="card text-bg-success mb-3">
                <div class="card-body">
                  <h5 class="card-title">Resolved</h5>
                  <p class="card-text fs-4">8</p>
                </div>
              </div>
            </div>
            <div class="col-md-3">
              <div class="card text-bg-secondary mb-3">
                <div class="card-body">
                  <h5 class="card-title">Pending Feedback</h5>
                  <p class="card-text fs-4">1</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Quick Help / FAQ -->
          <div class="card mt-4">
            <div class="card-header">Need Help?</div>
            <div class="card-body">
              <ul>
                <li><strong>How to track my ticket?</strong> Go to 'Submitted Tickets' to see status updates.</li>
                <li><strong>How to submit a ticket?</strong> Click on 'Submit Ticket' in the sidebar.</li>
                <li><strong>What is SLA?</strong> Check the 'SLA Info' section to learn more about response times.</li>
              </ul>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>
  <script>
function confirmLogout(event) {
  event.preventDefault();
  if (confirm("Are you sure you want to log out?")) {
    // Call backend logout, then go to logout.html
    fetch('/logout', {
      method: 'GET',
      credentials: 'include'
    }).then(() => {
      window.location.href = '/logout.html';
    }).catch(err => {
      console.error("Logout failed", err);
      alert("Logout failed. Try again.");
    });
  }
}
</script>

</body>
</html>
